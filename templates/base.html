<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <title>{% block title %}All Pets{% endblock %}</title>
</head>
<body> 
    {% block content %}
    <!-- Home page which is divided in two with pets available and not available for adoption. Displays 
    card of individual pet with picture, name, and whether pet is available for adoption. At the bottom 
    of the page, user can add new pet -->
   
    <!-- Flash message to display when a new pet has been created-->
    {% for msg in get_flashed_messages() %}
        <div class="alert alert-success" role="alert">
            {{ msg }}
        </div>
    {% endfor %}

    <h1 class="display-1 mb-5 text-center">Pets</h1>
    <hr>

    <div class="container-fluid">
        <!-- Displays pets that are available on left side -->
        <div class="row justify-content-center"> 
            <div class="col-lg-6 mb-5 border-right">
                <h3 class="text-center mb-3 border-bottom">Available</h3>
                <div class="d-flex flex-wrap">
                    {% for pet in pets %}
                        {% if pet.available %}
                            <div class="col-md-6 mb-3">
                                <div class="card">
                                    <img 
                                    src="{{ pet.photo_url }}" 
                                    class="card-img-top img-fluid" 
                                    style="aspect-ratio: 16/9;"
                                    alt="{{ pet.name }}'s picture">
                                    <div class="card-body">
                                        <h5 class="card-title"><a href="/{{ pet.id }}">{{ pet.name }}</a></h5>
                                        <p class="card-text">{{ pet.name }} is <b>available</b>!</p>
                                    </div>
                                </div>
                            </div>    
                        {% endif %}
                    {% endfor %}
                    </div>    
            </div>
            <!-- Displays pets that are NOT available on right side -->
            <div class="col-lg-6 mb-5">
                <h3 class="text-center mb-3 border-bottom">Not Available</h3>
                <div class="d-flex flex-wrap">
                    {% for pet in pets %}
                        {% if pet.available == false %}
                            <div class="col-lg-6 mb-3">
                                <div class="card">
                                    <img 
                                    src="{{ pet.photo_url }}" 
                                    class="card-img-top img-fluid" 
                                    style="aspect-ratio: 16/9;"
                                    alt="{{ pet.name }}">
                                    <div class="card-body">
                                        <h5 class="card-title"><a href="/{{ pet.id }}">{{ pet.name }}</a></h5>
                                        <p class="card-text">{{ pet.name }} is no longer available</p>
                                    </div>
                                </div>
                            </div>    
                        {% endif %}
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-lg-12 mb-5"> 
                <a href="/add" class="btn btn-primary">Add Pet</a>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>

    {% endblock %}
</body>
<footer>
    <p>&copy; 2023 Pet Adoption. All rights reserved.</p>
    <p>Updated By <a href="https://github.com/vnouaime">Vera Nouaime</a></p>
</footer>
</html>